{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/champion.service\";\n\nfunction ChampionsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 1, 2);\n    i0.ɵɵlistener(\"change\", function ChampionsComponent_div_0_Template_select_change_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n\n      const _r1 = i0.ɵɵreference(4);\n\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.updateRole(_r1.value);\n    });\n    i0.ɵɵelementStart(5, \"option\", 3);\n    i0.ɵɵtext(6, \"Toplane\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 4);\n    i0.ɵɵtext(8, \"Jungle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 5);\n    i0.ɵɵtext(10, \"Midlane\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 6);\n    i0.ɵɵtext(12, \"ADC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 7);\n    i0.ɵɵtext(14, \"Support\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(15, \"app-champion-detail\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Champion Statistic from \", ctx_r0.totalGames, \" games. Only Rank Platinum+\");\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"stats\", ctx_r0.championStats)(\"role\", ctx_r0.selectedRole);\n  }\n}\n\nexport let ChampionsComponent = /*#__PURE__*/(() => {\n  class ChampionsComponent {\n    constructor(championService) {\n      this.championService = championService;\n      this.selectedRole = 'MID';\n    }\n\n    ngOnInit() {\n      console.log(\"init: \", this.selectedRole);\n      this.championService.getChampions().subscribe(champions => {\n        this.champions = champions.data;\n        console.log(\"Champs: \", this.champions);\n        this.championService.getChampionStats().subscribe(championStats => {\n          this.totalGames = championStats.data[0].total_game_count;\n          this.championStats = championStats.data.map((value, index) => {\n            let name = \"\";\n            Object.keys(this.champions).forEach(key => {\n              if (this.champions[key].key == value.champion_id) {\n                name = this.champions[key].name;\n              }\n            });\n            return {\n              championName: name,\n              role: value.role,\n              games: value.stats.games,\n              bans: value.stats.bans.ban_count,\n              wins: value.stats.wins,\n              kills: value.stats.kills,\n              deaths: value.stats.deaths,\n              winrate: value.stats.wins / value.stats.games * 100,\n              pickrate: value.stats.games / this.totalGames * 100\n            };\n          });\n          this.championStats = this.championStats.sort((a, b) => {\n            return b.winrate - a.winrate;\n          });\n        });\n      });\n    }\n\n    updateRole(role) {\n      this.selectedRole = role;\n    }\n\n  }\n\n  ChampionsComponent.ɵfac = function ChampionsComponent_Factory(t) {\n    return new (t || ChampionsComponent)(i0.ɵɵdirectiveInject(i1.ChampionService));\n  };\n\n  ChampionsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChampionsComponent,\n    selectors: [[\"app-champions\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [\"name\", \"roleSelect\", \"id\", \"roleSelect\", 3, \"change\"], [\"roleSelect\", \"\"], [\"value\", \"TOP\"], [\"value\", \"JUNGLE\"], [\"value\", \"MID\", \"selected\", \"\"], [\"value\", \"ADC\"], [\"value\", \"SUPPORT\"], [3, \"stats\", \"role\"]],\n    template: function ChampionsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ChampionsComponent_div_0_Template, 16, 3, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.championStats);\n      }\n    },\n    styles: [\"#roleSelect[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;border-radius:0;padding:10px 100px 10px 20px;line-height:1;box-sizing:border-box;outline:none;height:40px;font-size:16px;margin-bottom:1.33em}\"]\n  });\n  return ChampionsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}